---
layout: default
title: Phrase Network
---

# Phrase Network

## 背景
[teeting](teeting.md) の手段としては、筆者は Scrapbox をベースにして考えている。が、これ以外のアプローチもあろう。たとえば Scrapbox は行指向なので、行指向ではないデータ構造について考えてみることでなにかひらめくかもしれない。

で、早速ひらめいたのがこのモデルだった。phrase network とでも呼べばいいのだろうか。

## 基本概念
- phrase という単位
    - TwitterでいうTweetみたいなもの
    - 「短文」くらいの単位
- phrase と phrase は繋げることができる
    - 連接
    - 例示
    - 根拠
    - メリット・デメリット etc
- この繋げる部分を「関連(relation)」という
- グラフ理論で言えば、
    - phrase がノード
    - relation がエッジ

```
(phrase) ----------> (phrase)
          relation

```

やり取りするためには？

- たとえば以下
    - 他人の phrase に、自分の phrase を繋げる
    - 話題 X に関する phrase をつくり、A について言及したい人が各自の phrase を A に繋げる

```
反論したいなら、

    (B's phrase) ----------> (A's phrase)
                    反論

補足したいなら、

    (B's phrase) ----------> (A's phrase)
                    補足
```

```
話題XについてA、B、C、Dさんが言及している

    (A's phrase)
        |
        |
        |
        V
    (Topic-X) <------(B's phrase)
      A  A
      |  |
      |  +-----------(D's phrase)
      |
    (C's phrase)


話題Xの情報量が多い場合は、その補足phraseを繋げば良い

                  (補足phrase2)
                      |
                      |
                      |
    (A's phrase)      |
        |             V
        | +-------(Xの補足) <------(補足phrase1)
        | | 
        V V
    (Topic-X) <------(B's phrase)
      A  A
      |  |
      |  +-----------(D's phrase)
      |
    (C's phrase)

```

## phrase と topic
そもそも topic 要る？topicって何？

ハッシュタグ使うのが直感的ではある。phrase に `#XXXについて` とか書けば、`XXXについて｀topic が生成される＆phraseとの関係も表現される。

## Differences

### Q: Scrapboxと何が違う？
- Scrapboxは
    - Pageというノード
    - Page内は複数人が編集できる
    - Page内からリンクを張ることで繋がる
        - Page内コンテンツとして接続を表現する
        - 別の言い方をすると「エッジ」というデータ構造がない
    - エッジ自体に意味はない
        - 厳密に言えば `#hashtag` と `[link]` は別物扱いされているが
- このモデルは
    - Phraseというノード
    - Phraseは **本人しか編集できない**
    - PhraseからPhraseへの接続は、専用の操作で行う
        - 別の言い方をすると **「エッジ」というデータ構造がある**

つまり、

- Scrapboxは「ノードは他人もいじれる」「エッジはただの無属性有向」
- このモデルは「ノードは他人はいじれない」「エッジは有属性有向」

### Q: Twitterとは何が違う？
Phrase Network は

- Phrase は後から編集できる（Twitterはできない）
- Phrase はグラフ構造である（Twitterはリプライに基づく木構造）
    - まあ引用リツイートやらURLで言及やらすれば繋げないこともないが
- Phrase にはタイムラインがない（Twitterには必ずついている）
    - ノードを工夫すればつくることもできる（と思う）
- project という部屋概念がある（Twitterにはない）
    - 鍵垢 + フォローで一応できるが、それでも 1-account 1-room
- ★


## ステルスノード
自分にしか見えないノードをつくれる。これをステルスノードという。

主な用途

- ブックマーク
- フィルタリング
- メモ etc

以下例。

```
話題XについてA、B、C、Dさんが言及しているとする。

    (A's phrase)
        |
        |
        |
        V
    (Topic-X) <------(B's phrase)
      A  A
      |  |
      |  +-----------(D's phrase)
      |
    (C's phrase)


Aさんは、BCDさんの意見を咀嚼したいとする。


CDは似ていることがわかったので、その旨を書きたい。

    (A's phrase)
        |
        |
        |
        V
    (Topic-X) <------(B's phrase)
      A  A                                 
      |  |                                 
      |  +-----------(D's phrase) <--- [似ている] <---(A's stealth node)
      |                                    |
    (C's phrase) <-------------------------+


Bはハラスメントが混じっていて「ないわ」なので、その旨を記録しておきたい。

    (A's phrase)
        |
        |
        |
        V
    (Topic-X) <------(B's phrase) <------------------- [ないわ]
      A  A                                                 A
      |  |                                                 |
      |  +-----------(D's phrase) <--- [似ている] <---(A's stealth node)
      |                                    |
    (C's phrase) <-------------------------+
```

フィルタリング

- 例
    - ステルスノード「ないわ」から直接繋がっているノードは表示しない
    - ステルスノード「似ている」から直接繋がっているノードだけを表示する
    - ステルスノード「似ている」から直接繋がっているノード + その 2hop までを表示する

強制フィルタリング

- 他人のステルスノードは見えてはいけない。システム側で強制的に「見せない」に倒す必要がある。

## カスケード
ノードAにノード1,2,3,4,5が繋がっているとする。

このとき、Aをカスケードすると、Aの見た目はA(+5)みたいになる。つまり直接繋がったノードを重ねることで見た目を「nノードが散らばっている」から「1ノードに重なっている」にする。重なった見た目があるので（1,2,3,4,5の存在を）見失うリスクは低い。

ネットワーク視覚化のテクニックかも。たぶん二次元表示になるだろうから。

## ツイート一覧
的なものもつくれる。

単に一覧ノードTをつくって、Tから「自分のphraseすべて（あるいは一覧に表示したいphraseだけでもいいが）」に繋げば良い。

## relation をどう制御するか
- 無属性だとわけわかめになる
- 下手に属性を定めてもどうせ例外が出てくる or 守られない

バランスが必要であろう

- 個人レベルなら好きにすればいい
    - 究極無属性でもいい
- teeting であれば、全員の便宜や円滑を考えれば「ある程度は決める」のが良いだろう
- そもそも「あると便利な属性」については、やはりある程度は取り入れたい
    - 初学者は勉強しなければならないが

misc

- デザインパターンならぬ relation pattern なる分野が生まれるかもしれない
    - たとえば「ワンクッションノード」
        - 上記でいう `(Xの補足)` はこれ
        - 直接 `(Topic-X)` に繋ぐのではなく、`(Xの補足)` でワンクッションはさんでいる
    - たとえば「ガイドノード」
        - 「このノードから辿れる n の道は、～～に関するものです」というのを説明したノード
        - 例示です
        - 賛成意見です
        - 反対意見です
        - 全然まとまりないです etc
- 縛る
    - たとえば「このteetingでは以下のrelationしか使えません」とか
    - もちろんその場合もステルスノードは各自自由に使えるので、メモや整理は個人レベルでは自由にできる

## phrase network をどう見せるか
- ネットワーク図みたいな外観になろう
- 人のアイコンは、ノードに乗っかる or ひっつく？感じで表示される
    - これがリアルタイムに動く

毛玉問題にはどう対処するか。たぶん「大量の情報が乗ったネットワーク」は諦めるしかない or 思いつけばいいけど。 ~~ここは teeting の文脈だから、「ある一つの会議（でのやり取り）を表現したネットワーク」という単位を扱うことになろう。であれば、毛玉問題というほどの規模にはならないだろう。仮になるとしたら、その前に仕切り直すべきである。~~ いや、切り離して汎用的なツールや概念にしてるのでなし。

phrase node を強調する。文章をそのまま表示しても表示領域的にでかくてきつそう。いかに小さく表示するかが鍵。が、全部小さくすると見えないので「何かを強調」する必要はあるだろう。or relation があるならあえて「クリックするまで見せない」くらいしてもいいかもしれんが……いや俯瞰できないか。一つ思いついたのは `phrase node を[強調]する。文章をそのまま表示しても[表示領域的にでかく]てきつそう。` のように `[]` でくくった部分を強調とみなして目立たせる（あるいはこれら以外を小さくする）

## 例から考える
★

## 2021/10/26

### Layer
レイヤー。ネットワークの層。ネットワーク情報システムは「1ネットワーク上に全部つくる」を前提としがちだが、そのせいで窮屈になってる。分ければいい。n層にすればいい。Scrapboxでいうと、projectがlayerになっている。1-project N-layerをサポートできるようにするイメージ。

定義レイヤー。言葉の定義ページを扱ったレイヤー。

specific layer。同じレイヤー内のノード間は自由に繋げるが、他のlayerのノードにはつなぎに行けない。しかし他layerから繋がれるのはアリ。

リンク。 `L@N` でレイヤー L のノード N へのリンク。`@N` または `N` で今のレイヤーのノード N へのリンク。

### main と joint
レイヤーから main を抽出する。sub はメッシュでもいい。

node と joint node。

```
(node1)-->[joint-node]-->(node2)
              |
              V
           (node3)<--(node4)
              |
              V
           (node5)

```

node1はjoint master。node2とnode3はjoint slave。node4とnode5はsubnode。

抽出は joint と直接繋がったものだけ行う。sub は付随なので要らない。

### hybrid copy
ノードの浅いコピーと深いコピーを同時に行う。

node1からhybrid copyでnode2をつくったとする。

```
node1 ----> node2

     hybrid
      copy
```

node2は「node1の浅いコピー」と「node1の深いコピー」を両方持っている。なので「node1の更新を追いかける」こともできるし、「node1が変化しても（極論死んでも）内容を残す」こともできる。

浅いのと深いのどっちを使うかは切り替えられる。デフォルトはたぶん layer の設定として持った方が良い。

## 更新履歴
- ★
- 2021/10/19 開始
